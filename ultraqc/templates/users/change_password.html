{% extends "layout.html" %}
{% block content %}
  <h1>Change Your Password</h1>

  {% if errors %}
  <div class="alert alert-danger" role="alert">
    <ul class="mb-0">
    {% for error in errors %}
      <li>{{ error.msg if error.msg else error }}</li>
    {% endfor %}
    </ul>
  </div>
  {% endif %}

  {% if success_message %}
  <div class="alert alert-success" role="alert">
    {{ success_message }}
  </div>
  {% endif %}

  <form id="password_form" method="POST" action="" role="form">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
    <div class="form-group row">
      <label for="password" class="col-sm-2 col-form-label">New Password</label>
      <div class="col-sm-10 col-md-5">
        <input type="password" name="password" id="password" placeholder="New Password" class="form-control pw_input" required minlength="6" maxlength="40">
      </div>
    </div>
    <div class="form-group row">
      <label for="confirm" class="col-sm-2 col-form-label">Confirm Password</label>
      <div class="col-sm-10 col-md-5">
        <input type="password" name="confirm" id="confirm" placeholder="Re-type Password" class="form-control pw_input" required minlength="6" maxlength="40">
      </div>
    </div>
    <div class="form-group row">
      <div class="offset-sm-2 col-sm-10">
        <input type="submit" class="btn btn-primary" value="Submit" id="password_submit"/>
      </div>
    </div>
  </form>
{% endblock %}

{% block js %}
  <script type="text/javascript">window.token = "{{ current_user.api_token }}" </script>
  <script type="text/javascript" src="{{ url_for('static', filename='js/members.js') }}"></script>
{% endblock %}

